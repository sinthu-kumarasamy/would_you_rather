(this.webpackJsonpwould_you_rather=this.webpackJsonpwould_you_rather||[]).push([[0],{210:function(e,t,n){e.exports=n(352)},215:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(42),i=n.n(o),c=(n(215),n(22)),l=n(23),s=n(24),u=n(29),m=n(18),d=(n(76),n(37)),h=n(20),p=n(130),b=n(197),f=n(195),v=n(369),E=n(66);function O(e){return{type:"SET_AUTHED_USER",id:e}}var j=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(t){t.preventDefault(),e.props.dispatch(O(null)),e.props.history.push("/")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authUser,n=e.users;return r.a.createElement(p.a,{inverted:!0},r.a.createElement(b.a,{inverted:!0,pointing:!0,secondary:!0},r.a.createElement(b.a.Item,{as:d.c,exact:!0,to:"/",name:"home"}),r.a.createElement(b.a.Item,{as:d.c,to:"/add",name:"new question"}),r.a.createElement(b.a.Item,{as:d.c,to:"/leaderboard",name:"leaderboard"}),r.a.createElement(b.a.Menu,{position:"right"},r.a.createElement(b.a.Item,null,r.a.createElement("span",null,r.a.createElement(f.a,{src:n[t].avatarURL,avatar:!0,spaced:"right",verticalAlign:"middle"}),"Hello,",n[t].name)),r.a.createElement(b.a.Item,null,r.a.createElement(v.a,{animated:"vertical",style:{backgroundColor:"white",fontSize:"15px"},onClick:this.handleLogout},r.a.createElement(v.a.Content,{hidden:!0},"Logout"),r.a.createElement(v.a.Content,{visible:!0},r.a.createElement(E.a,{name:"sign-out"})))))))}}]),n}(a.Component);var g=Object(h.g)(Object(m.connect)((function(e){return{authUser:e.authUser,users:e.users}}))(j)),y=n(367),w=n(366),x=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.author;return r.a.createElement(w.a,{className:"userCard"},r.a.createElement(w.a.Content,null,r.a.createElement(f.a,{floated:"right",size:"tiny",circular:!0,src:n.avatarURL}),r.a.createElement(w.a.Header,null,n.name),r.a.createElement(w.a.Meta,null,"Would You Rather"),r.a.createElement(w.a.Description,null,t.optionOne.text," or ",t.optionTwo.text)),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(v.a,{basic:!0,color:"green"},"View Poll"))))}}]),n}(a.Component);var T=Object(m.connect)((function(e,t){var n=e.questions,a=e.users,r=n[t.id];return{question:r,author:a[r.author]}}))(x),C=n(30),q=n.n(C),U=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.answeredQuestions,n=e.unansweredQuestions;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(q.a,{style:{backgroundColor:"#780743",height:"5px"}}),r.a.createElement(y.a,{className:"tab",panes:S({answeredQuestions:t,unansweredQuestions:n})}))}}]),n}(a.Component),S=function(e){return[{menuItem:"Unasnwered",render:function(){return r.a.createElement(y.a.Pane,null,e.unansweredQuestions.map((function(e){return r.a.createElement(d.b,{to:"question/".concat(e.id),key:e.id},r.a.createElement(T,{id:e.id}))})))}},{menuItem:"Answered",render:function(){return r.a.createElement(y.a.Pane,null,e.answeredQuestions.map((function(e){return r.a.createElement(d.b,{to:"question/".concat(e.id),key:e.id},r.a.createElement(T,{id:e.id}))})))}}]};var k=Object(m.connect)((function(e){var t=e.questions,n=e.authUser;return{answeredQuestions:Object.values(t).filter((function(e){return e.optionOne.votes.includes(n)||e.optionTwo.votes.includes(n)})).sort((function(e,t){return t.timestamp-e.timestamp})),unansweredQuestions:Object.values(t).filter((function(e){return!e.optionOne.votes.includes(n)&&!e.optionTwo.votes.includes(n)})).sort((function(e,t){return t.timestamp-e.timestamp}))}}))(U),R=n(365),z=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedUser:""},e.handleSubmit=function(t){t.preventDefault(),e.props.dispatch(O(e.state.selectedUser))},e.handleChange=function(t){e.setState({selectedUser:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.userIds,n=e.authUser,a=e.users;if(null!==n)return r.a.createElement(h.a,{to:"/home"});var o=""!==this.state.selectedUser?this.state.selectedUser:"default";return r.a.createElement("div",{className:"App"},0===t.length?r.a.createElement(q.a,{style:{backgroundColor:"#780743",height:"5px"}}):r.a.createElement(R.a,null,r.a.createElement(R.a.Header,null,"Would You Rather?"),r.a.createElement(R.a.Img,{src:"../images/logo.svg",className:"App-logo"}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,"Sign in"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("select",{className:"dropdown",value:o,onChange:this.handleChange},r.a.createElement("option",{value:"default",disabled:!0},"Select User.."),this.props.userIds.map((function(e){return r.a.createElement("option",{key:e,value:e},a[e].name)}))),r.a.createElement("br",null),r.a.createElement("button",{className:"submitBtn",disabled:""===this.state.selectedUser},"Sign in")))))}}]),n}(a.Component);var D=Object(m.connect)((function(e){var t=e.users,n=e.authUser;return{userIds:Object.keys(t),authUser:n,users:t}}))(z),A=n(196),_=n(21),I=n(16),L={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},N={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function Q(){return new Promise((function(e,t){setTimeout((function(){return e(Object(I.a)({},L))}),1e3)}))}function B(e){return new Promise((function(t,n){var a=e.author,r=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){N=Object(I.a)(Object(I.a)({},N),{},Object(_.a)({},r.id,r)),L=Object(I.a)(Object(I.a)({},L),{},Object(_.a)({},a,Object(I.a)(Object(I.a)({},L[a]),{},{questions:L[a].questions.concat([r.id])}))),t(r)}),1e3)}))}function H(e){return function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,r){setTimeout((function(){L=Object(I.a)(Object(I.a)({},L),{},Object(_.a)({},t,Object(I.a)(Object(I.a)({},L[t]),{},{answers:Object(I.a)(Object(I.a)({},L[t].answers),{},Object(_.a)({},n,a))}))),N=Object(I.a)(Object(I.a)({},N),{},Object(_.a)({},n,Object(I.a)(Object(I.a)({},N[n]),{},Object(_.a)({},a,Object(I.a)(Object(I.a)({},N[n][a]),{},{votes:N[n][a].votes.concat([t])}))))),e()}),500)}))}(e)}function F(e){return{type:"RECEIVE_USERS",users:e}}function V(){return function(e){return Q().then((function(t){e(F(t))}))}}function P(e){var t=e.optionOne,n=e.optionTwo,a=e.authUser;return function(e){return e(Object(C.showLoading)()),(r={optionOneText:t,optionTwoText:n,author:a},B(r)).then((function(t){return e(function(e){return{type:"ADD_QUESTIONS",question:e}}(t))})).then((function(){return e(Object(C.hideLoading)())}));var r}}function W(e){var t=e.authUser,n=e.answer,a=e.question_id;return function(e){return e(Object(C.showLoading)()),e(function(e,t,n){return{type:"ADD_ANSWER",authUser:e,answer:t,question_id:n}}(t,n,a)),H({authedUser:t,qid:a,answer:n}).then((function(){return e(Object(C.hideLoading)())}))}}function M(){return function(e){return e(Object(C.showLoading)()),Promise.all([Q(),new Promise((function(e,t){setTimeout((function(){return e(Object(I.a)({},N))}),1e3)}))]).then((function(e){var t=Object(A.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,a=t.questions;e(F(n)),e(function(e){return{type:"RECEIVE_QUESTIONS",questions:e}}(a)),e(Object(C.hideLoading)())}))}}var G=n(361),Y=n(368),J=n(99),$=n(362),K=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedValue:"",enableBtn:!0},e.handleChange=function(t,n){var a=n.value;e.setState({selectedValue:a,enableBtn:!1})},e.handleButtonClick=function(t){t.preventDefault();var n=e.props,a=n.dispatch,r=n.authUser,o=n.question_id,i=e.state.selectedValue;null!==i&&(a(W({authUser:r,answer:i,question_id:o})),a(V()))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAnswered,n=e.question,a=e.author,o=e.authUser,i=n.optionOne.votes.length+n.optionTwo.votes.length,c=n.optionOne.votes.length,l=n.optionTwo.votes.length,s=n.optionOne.votes.filter((function(e){return e===o})),u=n.optionTwo.votes.filter((function(e){return e===o})),m=0!==s.length,d=0!==u.length;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(q.a,{style:{backgroundColor:"#780743",height:"5px"}}),!1===t?r.a.createElement(w.a,{className:"userCard",style:{marginLeft:"600px",fontSize:"20px"}},r.a.createElement(w.a.Content,null,r.a.createElement(f.a,{floated:"left",size:"tiny",circular:!0,src:a.avatarURL}),r.a.createElement(w.a.Header,null,a.name),r.a.createElement(w.a.Meta,null,"Would You Rather"),r.a.createElement(w.a.Description,null,r.a.createElement(G.a,{radio:!0,label:n.optionOne.text,name:"checkboxRadioGroup",value:"optionOne",checked:"optionOne"===this.state.selectedValue,onChange:this.handleChange,style:{fontSize:"18px",fontWeight:"bold"}}),r.a.createElement("br",null),r.a.createElement(G.a,{radio:!0,label:n.optionTwo.text,name:"checkboxRadioGroup",value:"optionTwo",checked:"optionTwo"===this.state.selectedValue,onChange:this.handleChange,style:{fontSize:"18px",fontWeight:"bold"}}))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(v.a,{basic:!0,color:"green",disabled:this.state.enableBtn,onClick:this.handleButtonClick},"Submit")))):r.a.createElement(w.a,{className:"userCard",style:{marginLeft:"600px"}},r.a.createElement(w.a.Content,null,r.a.createElement(f.a,{floated:"left",size:"tiny",circular:!0,src:a.avatarURL}),r.a.createElement(w.a.Header,null,a.name),r.a.createElement(w.a.Description,null,r.a.createElement("h2",{style:{color:"black",textAlign:"center",fontFamily:"Cambria, Cochin, Georgia, Times, Times New Roman, serif"}},"Results"),r.a.createElement(Y.a,{style:{backgroundColor:!0===m?"#FAEBD7":"#F8F8F8"}},m&&r.a.createElement(J.a,{color:"red",ribbon:"right"},"Your Vote"),r.a.createElement(Y.a.Header,{style:{marginBottom:"15px"}},n.optionOne.text),r.a.createElement($.a,{value:c,total:i,color:"teal",size:"medium"}),r.a.createElement(Y.a.Header,{style:{color:"black",textAlign:"center",fontFamily:"Cambria, Cochin, Georgia, Times, Times New Roman, serif"}},c," out of ",i," votes")),r.a.createElement(Y.a,{style:{backgroundColor:!0===d?"#FAEBD7":"#F8F8F8"}},d&&r.a.createElement(J.a,{color:"red",ribbon:"right"},"Your Vote"),r.a.createElement(Y.a.Header,{style:{marginBottom:"15px"}}," ",n.optionTwo.text),r.a.createElement($.a,{value:l,total:i,color:"teal",size:"medium"}),r.a.createElement(Y.a.Header,{style:{color:"black",textAlign:"center",fontFamily:"Cambria, Cochin, Georgia, Times, Times New Roman, serif"}},l," out of ",i," votes"))))))}}]),n}(a.Component);var X=Object(m.connect)((function(e,t){var n=e.questions,a=e.users,r=e.authUser,o=t.match.params.id,i=n[o],c=a[i.author],l=!1;return(i.optionOne.votes.includes(r)||i.optionTwo.votes.includes(r))&&(l=!0),{question:i,isAnswered:l,author:c,authUser:r,question_id:o}}))(K),Z=n(364),ee=n(363),te=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionOne:"",optionTwo:"",enableBtn:!0},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.optionOne,r=n.optionTwo,o=e.props,i=o.dispatch,c=o.history,l=o.authUser;""!==a&&""!==r&&(i(P({optionOne:a,optionTwo:r,authUser:l})),i(V())),c.push("/")},e.handleInputOne=function(t){t.preventDefault(),e.setState({optionOne:t.target.value})},e.handleInputTwo=function(t){t.preventDefault(),e.setState({optionTwo:t.target.value,enableBtn:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(w.a,{style:{marginLeft:"600px",marginTop:"100px",fontSize:"20px",width:"600px"}},r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,{style:{textAlign:"center"}},"Create Question")),r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Would You Rather"),r.a.createElement(w.a.Description,{style:{padding:"3px"}},r.a.createElement(Z.a,null,r.a.createElement(Z.a.Field,null,r.a.createElement("input",{name:"optionOne",placeholder:"Enter Option One",onChange:this.handleInputOne})),r.a.createElement(ee.a,{horizontal:!0},"Or"),r.a.createElement(Z.a.Field,null,r.a.createElement("input",{name:"optionTwo",placeholder:"Enter Option Two",onChange:this.handleInputTwo})),r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(v.a,{type:"submit",basic:!0,color:"blue",disabled:this.state.enableBtn,onClick:this.handleSubmit},"Submit")))))))}}]),n}(a.Component);var ne=Object(m.connect)((function(e){return{authUser:e.authUser}}))(te),ae=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.userData;return r.a.createElement("div",null,r.a.createElement(g,null),e.map((function(e){return r.a.createElement(w.a,{className:"leaderboard",key:e.name},r.a.createElement(w.a.Content,null,r.a.createElement(f.a,{fluid:!0,label:{as:"a",corner:"left",icon:"trophy"}}),r.a.createElement(f.a,{floated:"left",size:"mini",circular:!0,src:e.avatarURL}),r.a.createElement(w.a.Header,null,e.name),r.a.createElement(w.a.Description,null,"Answered Questions    :  ",r.a.createElement("strong",null,e.answeredQuestions),r.a.createElement("br",null),"Created Questions   :  ",r.a.createElement("strong",null,e.questionsCreated))),r.a.createElement(w.a.Content,{extra:!0},"Score : ",r.a.createElement(J.a,{circular:!0,color:"teal"},e.score)))})))}}]),n}(a.Component);var re=Object(m.connect)((function(e){var t=e.users;return{userData:Object.keys(t).map((function(e){var n={name:t[e].name,avatarURL:t[e].avatarURL,answeredQuestions:Object.keys(t[e].answers).length,questionsCreated:t[e].questions.length},a=n.answeredQuestions+n.questionsCreated;return n.score=a,n})).sort((function(e,t){return t.score-e.score}))}}))(ae),oe=n(193);var ie=Object(h.g)(Object(m.connect)((function(e){return{authUser:e.authUser}}))((function(e){var t=e.component,n=Object(oe.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return n.authUser?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}})}}))}))),ce=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(M())}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:D}),r.a.createElement(ie,{path:"/home",exact:!0,component:k}),r.a.createElement(ie,{path:"/add",exact:!0,component:ne}),r.a.createElement(ie,{path:"/question/:id",exact:!0,component:X}),r.a.createElement(ie,{path:"/leaderboard",component:re}))))}}]),n}(a.Component);var le=Object(m.connect)((function(e){return{loading:null===e.authUser}}))(ce),se=n(46);var ue=Object(se.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USERS":return Object(I.a)(Object(I.a)({},e),t.users);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_QUESTIONS":return Object(I.a)(Object(I.a)({},e),t.questions);case"ADD_QUESTIONS":return Object(I.a)(Object(I.a)({},e),{},Object(_.a)({},t.question.id,t.question));case"ADD_ANSWER":return Object(I.a)(Object(I.a)({},e),{},Object(_.a)({},t.question_id,Object(I.a)(Object(I.a)({},e[t.question_id]),{},Object(_.a)({},t.answer,Object(I.a)(Object(I.a)({},e[t.question_id][t.answer]),{},{votes:e[t.question_id][t.answer].votes.concat([t.authUser])})))));default:return e}},authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHED_USER":return t.id;default:return e}},loadingBar:C.loadingBarReducer}),me=n(194),de=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var a=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),a}}},he=Object(se.a)(me.a,de),pe=(n(351),Object(se.d)(ue,he));i.a.render(r.a.createElement(m.Provider,{store:pe},r.a.createElement(le,null)),document.getElementById("root"))},76:function(e,t,n){}},[[210,1,2]]]);
//# sourceMappingURL=main.596bbed8.chunk.js.map